<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seneca Weekly Plan</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Righteous&family=Work+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --cool-bg: #E8F4F8;
            --ice-blue: #F0F7FA;
            --lavender-mist: #E8E4F3;
            --ink: #2C3E50;
            --accent-purple: #9B7EDE;
            --accent-blue: #5DADE2;
            --accent-lavender: #D2B4DE;
            --accent-mint: #7DCEA0;
            --accent-coral: #F8B4C3;
            --accent-green: #52C17C;
            --accent-orange: #F39C6B;
            --shadow: rgba(44, 62, 80, 0.12);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Work Sans', sans-serif;
            background: linear-gradient(135deg, #E8F4F8 0%, #E8E4F3 100%);
            color: var(--ink);
            min-height: 100vh;
            padding: 2rem 1rem;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                repeating-linear-gradient(45deg, transparent, transparent 35px, rgba(93, 173, 226, 0.03) 35px, rgba(93, 173, 226, 0.03) 70px),
                repeating-linear-gradient(-45deg, transparent, transparent 35px, rgba(155, 126, 222, 0.03) 35px, rgba(155, 126, 222, 0.03) 70px);
            pointer-events: none;
            z-index: 1;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
        }

        .container::before,
        .container::after {
            content: '';
            position: absolute;
            border-radius: 50%;
            z-index: -1;
            opacity: 0.15;
        }

        .container::before {
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, var(--accent-purple), transparent);
            top: -100px;
            right: -100px;
            animation: float 6s ease-in-out infinite;
        }

        .container::after {
            width: 250px;
            height: 250px;
            background: radial-gradient(circle, var(--accent-blue), transparent);
            bottom: -50px;
            left: -50px;
            animation: float 8s ease-in-out infinite reverse;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0) scale(1);
            }
            50% {
                transform: translateY(-20px) scale(1.05);
            }
        }

        header {
            text-align: center;
            margin-bottom: 2.5rem;
            animation: fadeInDown 0.8s ease-out;
        }

        h1 {
            font-family: 'Righteous', cursive;
            font-size: 3.5rem;
            color: var(--accent-purple);
            margin-bottom: 0.5rem;
            text-shadow: 3px 3px 0 rgba(93, 173, 226, 0.3);
            letter-spacing: 3px;
            text-transform: uppercase;
        }

        .week-info {
            font-size: 1.1rem;
            color: var(--ink);
            opacity: 0.7;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .motivation {
            display: inline-block;
            margin-top: 0.5rem;
            padding: 0.75rem 2rem;
            background: linear-gradient(135deg, var(--accent-lavender), var(--accent-coral));
            border-radius: 50px;
            font-weight: 700;
            font-size: 1.1rem;
            box-shadow: 0 4px 15px var(--shadow);
            transform: rotate(-1deg);
            animation: fadeIn 1s ease-out 0.3s backwards, pulse 2s ease-in-out 2s infinite;
            border: 3px solid white;
        }

        @keyframes pulse {
            0%, 100% {
                transform: rotate(-1deg) scale(1);
            }
            50% {
                transform: rotate(-1deg) scale(1.05);
            }
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .day-card {
            background: var(--ice-blue);
            border-radius: 16px;
            padding: 1.5rem 1rem;
            box-shadow: 0 8px 30px var(--shadow), inset 0 1px 0 rgba(255,255,255,0.5);
            border: 3px solid white;
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            animation: fadeInUp 0.6s ease-out backwards;
            cursor: pointer;
        }

        .day-card:nth-child(1) { animation-delay: 0.1s; }
        .day-card:nth-child(2) { animation-delay: 0.2s; }
        .day-card:nth-child(3) { animation-delay: 0.3s; }
        .day-card:nth-child(4) { animation-delay: 0.4s; }
        .day-card:nth-child(5) { animation-delay: 0.5s; }
        .day-card:nth-child(6) { animation-delay: 0.6s; }
        .day-card:nth-child(7) { animation-delay: 0.7s; }

        .day-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: linear-gradient(90deg, var(--accent-purple), var(--accent-blue));
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.4s ease;
        }

        .day-card:hover {
            transform: translateY(-12px) rotate(1deg);
            box-shadow: 0 16px 50px rgba(93, 173, 226, 0.25);
            border-color: var(--accent-blue);
        }

        .day-card:hover::before {
            transform: scaleX(1);
        }

        /* Drop zone styling */
        .day-card.drag-over {
            border-color: var(--accent-orange);
            background: linear-gradient(135deg, #FFF4E0 0%, #FFE8CC 100%);
            transform: scale(1.05);
            box-shadow: 0 16px 50px rgba(243, 156, 107, 0.4), inset 0 0 20px rgba(243, 156, 107, 0.2);
        }

        /* Completed days */
        .day-card.completed {
            background: linear-gradient(135deg, #E8F4F8 0%, #D5EDD8 100%);
            border-color: var(--accent-green);
        }

        .day-card.partial {
            background: linear-gradient(135deg, #FFF8E7 0%, #FFE8CC 100%);
            border-color: var(--accent-orange);
        }

        .day-card.completed .day-name,
        .day-card.partial .day-name {
            color: var(--accent-green);
        }

        .day-card.partial .day-name {
            color: var(--accent-orange);
        }

        .day-card.completed::after {
            content: '‚úì';
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            width: 32px;
            height: 32px;
            background: var(--accent-green);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            font-weight: bold;
            border: 2px solid white;
            box-shadow: 0 2px 8px rgba(82, 193, 124, 0.4);
        }

        .day-card.partial::after {
            content: '‚ö°';
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            width: 32px;
            height: 32px;
            background: var(--accent-orange);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            font-weight: bold;
            border: 2px solid white;
            box-shadow: 0 2px 8px rgba(243, 156, 107, 0.4);
        }

        /* Today */
        .day-card.today {
            border-color: var(--accent-purple);
            background: linear-gradient(135deg, #E8E4F3 0%, #F0F7FA 100%);
            box-shadow: 0 8px 30px rgba(155, 126, 222, 0.3), inset 0 1px 0 rgba(255,255,255,0.5);
        }

        .day-card.today::after {
            content: 'Today';
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-blue));
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            border: 2px solid white;
            animation: todayPulse 2s ease-in-out infinite;
        }

        @keyframes todayPulse {
            0%, 100% {
                box-shadow: 0 0 0 0 rgba(155, 126, 222, 0.7);
            }
            50% {
                box-shadow: 0 0 0 8px rgba(155, 126, 222, 0);
            }
        }

        /* Rest days */
        .day-card.rest {
            background: linear-gradient(135deg, #F8F4FF 0%, #FFF8F0 100%);
            border-color: var(--accent-lavender);
            opacity: 0.9;
        }

        .day-card.rest .day-name {
            color: var(--accent-lavender);
        }

        .day-card.rest:hover {
            transform: translateY(-8px);
            opacity: 1;
        }

        /* Recap day */
        .day-card.recap {
            background: linear-gradient(135deg, #FFF8E7 0%, #E8E4F3 100%);
            border-color: var(--accent-blue);
        }

        .day-card.recap .day-name {
            color: var(--accent-blue);
        }

        .day-header {
            margin-bottom: 1rem;
            text-align: center;
        }

        .day-name {
            font-family: 'Righteous', cursive;
            font-size: 1.2rem;
            color: var(--accent-purple);
            margin-bottom: 0.25rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .day-date {
            font-size: 0.75rem;
            color: var(--ink);
            opacity: 0.6;
            font-weight: 600;
        }

        .progress-circle {
            width: 80px;
            height: 80px;
            margin: 1rem auto;
            position: relative;
            cursor: pointer;
        }

        .progress-circle svg {
            transform: rotate(-90deg);
            transition: all 0.5s ease;
        }

        .progress-circle:hover svg {
            transform: rotate(-90deg) scale(1.1);
        }

        .progress-bg {
            fill: none;
            stroke: rgba(44, 62, 80, 0.1);
            stroke-width: 8;
        }

        .progress-bar {
            fill: none;
            stroke: var(--accent-green);
            stroke-width: 8;
            stroke-linecap: round;
            stroke-dasharray: 220;
            stroke-dashoffset: 220;
            transition: stroke-dashoffset 1s ease, stroke 0.3s ease;
        }

        .progress-bar.partial {
            stroke: var(--accent-orange);
        }

        .day-card.completed:hover .progress-bar,
        .day-card.partial:hover .progress-bar {
            animation: progressFill 1.5s ease forwards;
        }

        @keyframes progressFill {
            to {
                stroke-dashoffset: 0;
            }
        }

        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--accent-green);
        }

        .progress-text.partial {
            color: var(--accent-orange);
        }

        .study-session {
            background: white;
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            border-radius: 12px;
            border-left: 5px solid var(--accent-blue);
            box-shadow: 0 4px 0 rgba(44, 62, 80, 0.1), 0 2px 8px rgba(44, 62, 80, 0.05);
            transition: all 0.3s ease;
            cursor: grab;
            font-size: 0.85rem;
            position: relative;
        }

        .study-session.draggable:active {
            cursor: grabbing;
        }

        .study-session.dragging {
            opacity: 0.5;
            transform: rotate(5deg) scale(0.9);
        }

        .study-session:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 0 rgba(44, 62, 80, 0.1), 0 4px 12px rgba(44, 62, 80, 0.15);
        }

        .study-session:last-child {
            margin-bottom: 0;
        }

        .study-session.completed {
            opacity: 0.7;
            background: #F8FFF9;
        }

        .study-session.incomplete {
            background: linear-gradient(135deg, #FFF8E7 0%, #FFE8CC 100%);
            border-left-color: var(--accent-orange);
            animation: incompletePulse 2s ease-in-out infinite;
        }

        @keyframes incompletePulse {
            0%, 100% {
                box-shadow: 0 4px 0 rgba(44, 62, 80, 0.1), 0 2px 8px rgba(243, 156, 107, 0.2);
            }
            50% {
                box-shadow: 0 4px 0 rgba(44, 62, 80, 0.1), 0 2px 8px rgba(243, 156, 107, 0.4);
            }
        }

        .study-session.incomplete::before {
            content: '‚ö†Ô∏è';
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            font-size: 0.9rem;
        }

        .study-session.overflow {
            background: linear-gradient(135deg, #E8E4F3 0%, #D2B4DE 100%);
            border-left-color: var(--accent-purple);
            position: relative;
        }

        .study-session.overflow::before {
            content: '‚Ü©Ô∏è';
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            font-size: 0.9rem;
        }

        .study-session.subject-math { border-left-color: var(--accent-blue); }
        .study-session.subject-science { border-left-color: var(--accent-mint); }
        .study-session.subject-english { border-left-color: var(--accent-coral); }
        .study-session.subject-biology { border-left-color: var(--accent-mint); }
        .study-session.subject-history { border-left-color: var(--accent-lavender); }
        .study-session.subject-coding { border-left-color: var(--accent-purple); }

        .session-time {
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--ink);
            opacity: 0.5;
            margin-bottom: 0.25rem;
        }

        .session-subject {
            font-size: 0.9rem;
            font-weight: 700;
            color: var(--ink);
        }

        .rest-message {
            text-align: center;
            padding: 1.5rem 0.5rem;
            font-size: 1.5rem;
            opacity: 0.4;
            transition: all 0.3s ease;
        }

        .day-card.rest:hover .rest-message {
            opacity: 0.7;
            transform: scale(1.2);
        }

        .recap-message {
            text-align: center;
            padding: 1rem;
            background: white;
            border-radius: 12px;
            border: 3px dashed var(--accent-blue);
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--accent-blue);
            transition: all 0.3s ease;
        }

        .day-card.recap:hover .recap-message {
            border-style: solid;
            transform: scale(1.05);
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @media (max-width: 1400px) {
            .calendar-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (max-width: 900px) {
            .calendar-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            h1 {
                font-size: 2.5rem;
            }
        }

        @media (max-width: 600px) {
            .calendar-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Your Seneca Weekly Plan</h1>
            <div class="week-info" id="weekInfo"></div>
            <div class="motivation">Study now, smash your exams</div>
        </header>

        <div class="calendar-grid" id="calendar"></div>
    </div>

    <script>
        // Study schedule data with completed status
        let studySchedule = {
            monday: {
                completed: true,
                progress: 100,
                sessions: [
                    { time: '4:00 - 4:55 PM', subject: 'Maths', type: 'math', completed: true },
                    { time: '5:00 - 6:00 PM', subject: 'Coding', type: 'coding', completed: true }
                ]
            },
            tuesday: {
                completed: true,
                progress: 100,
                sessions: [
                    { time: '4:15 - 5:00 PM', subject: 'English', type: 'english', completed: true },
                    { time: '5:30 - 6:15 PM', subject: 'Biology', type: 'biology', completed: true }
                ]
            },
            wednesday: {
                partial: true,
                progress: 67,
                sessions: [
                    { time: '4:00 - 5:00 PM', subject: 'Maths', type: 'math', completed: true },
                    { time: '5:15 - 5:45 PM', subject: 'Coding (Half)', type: 'coding', completed: false, incomplete: true }
                ]
            },
            thursday: {
                today: true,
                sessions: [
                    { time: '4:00 - 5:00 PM', subject: 'Biology', type: 'biology' },
                    { time: '5:15 - 6:00 PM', subject: 'English', type: 'english' },
                    { time: '6:15 - 6:45 PM', subject: 'Coding (Rest)', type: 'coding', overflow: true }
                ]
            },
            friday: {
                rest: true,
                sessions: []
            },
            saturday: {
                rest: true,
                sessions: []
            },
            sunday: {
                recap: true,
                duration: '1h 30min'
            }
        };

        let draggedSession = null;
        let draggedFromDay = null;

        // Get current week info
        function getWeekInfo() {
            const now = new Date();
            const firstDay = new Date(now.setDate(now.getDate() - now.getDay() + 1));
            const lastDay = new Date(now.setDate(now.getDate() - now.getDay() + 7));

            const options = { month: 'long', day: 'numeric' };
            return `${firstDay.toLocaleDateString('en-US', options)} - ${lastDay.toLocaleDateString('en-US', options)}`;
        }

        // Get days of the week
        function getWeekDays() {
            const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
            const today = new Date();
            const currentDay = today.getDay();
            const firstDay = new Date(today.setDate(today.getDate() - currentDay + 1));

            return days.map((day, index) => {
                const date = new Date(firstDay);
                date.setDate(date.getDate() + index);
                return {
                    name: day,
                    date: date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),
                    isToday: new Date().toDateString() === date.toDateString()
                };
            });
        }

        // Render calendar
        function renderCalendar() {
            const weekInfo = document.getElementById('weekInfo');
            const calendar = document.getElementById('calendar');

            weekInfo.textContent = getWeekInfo();
            calendar.innerHTML = '';

            const weekDays = getWeekDays();
            const dayKeys = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];

            weekDays.forEach((day, index) => {
                const dayKey = dayKeys[index];
                const dayData = studySchedule[dayKey];
                const dayCard = document.createElement('div');

                let cardClass = 'day-card';
                if (dayData.completed) cardClass += ' completed';
                if (dayData.partial) cardClass += ' partial';
                if (dayData.today) cardClass += ' today';
                if (dayData.rest) cardClass += ' rest';
                if (dayData.recap) cardClass += ' recap';

                dayCard.className = cardClass;
                dayCard.dataset.day = dayKey;

                // Enable drop on rest days and today
                if (dayData.rest || dayData.today) {
                    dayCard.addEventListener('dragover', handleDragOver);
                    dayCard.addEventListener('dragleave', handleDragLeave);
                    dayCard.addEventListener('drop', handleDrop);
                }

                let contentHTML = `
                    <div class="day-header">
                        <div class="day-name">${day.name}</div>
                        <div class="day-date">${day.date}</div>
                    </div>
                `;

                if (dayData.completed || dayData.partial) {
                    const progress = dayData.progress || 100;
                    const circumference = 2 * Math.PI * 35;
                    const offset = circumference - (progress / 100) * circumference;

                    contentHTML += `
                        <div class="progress-circle">
                            <svg width="80" height="80">
                                <circle class="progress-bg" cx="40" cy="40" r="35"/>
                                <circle class="progress-bar ${dayData.partial ? 'partial' : ''}" cx="40" cy="40" r="35" style="stroke-dashoffset: ${offset};"/>
                            </svg>
                            <div class="progress-text ${dayData.partial ? 'partial' : ''}">${progress}%</div>
                        </div>
                    `;
                    contentHTML += dayData.sessions.map((session, idx) => `
                        <div class="study-session subject-${session.type} ${session.completed ? 'completed' : ''} ${session.incomplete ? 'incomplete' : ''}"
                             data-session-idx="${idx}">
                            <div class="session-time">${session.time}</div>
                            <div class="session-subject">${session.subject}</div>
                        </div>
                    `).join('');
                } else if (dayData.rest) {
                    if (dayData.sessions && dayData.sessions.length > 0) {
                        contentHTML += dayData.sessions.map((session, idx) => `
                            <div class="study-session subject-${session.type} draggable"
                                 draggable="true"
                                 data-session-idx="${idx}">
                                <div class="session-time">${session.time}</div>
                                <div class="session-subject">${session.subject}</div>
                            </div>
                        `).join('');
                    } else {
                        contentHTML += '<div class="rest-message">üåø ‚òÆÔ∏è</div>';
                    }
                } else if (dayData.recap) {
                    contentHTML += `
                        <div class="recap-message">
                            üìö Weekly Recap<br>
                            <strong>${dayData.duration}</strong>
                        </div>
                    `;
                } else if (dayData.sessions) {
                    contentHTML += dayData.sessions.map((session, idx) => `
                        <div class="study-session subject-${session.type} ${session.overflow ? 'overflow' : ''} draggable"
                             draggable="true"
                             data-session-idx="${idx}">
                            <div class="session-time">${session.time}</div>
                            <div class="session-subject">${session.subject}</div>
                        </div>
                    `).join('');
                }

                dayCard.innerHTML = contentHTML;
                calendar.appendChild(dayCard);

                // Add drag events to draggable sessions
                const draggableSessions = dayCard.querySelectorAll('.study-session.draggable');
                draggableSessions.forEach(session => {
                    session.addEventListener('dragstart', handleDragStart);
                    session.addEventListener('dragend', handleDragEnd);
                });
            });
        }

        // Drag and drop handlers
        function handleDragStart(e) {
            const sessionElement = e.target.closest('.study-session');
            const dayCard = e.target.closest('.day-card');
            const dayKey = dayCard.dataset.day;
            const sessionIdx = parseInt(sessionElement.dataset.sessionIdx);

            draggedSession = studySchedule[dayKey].sessions[sessionIdx];
            draggedFromDay = dayKey;

            sessionElement.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
            e.dataTransfer.setData('text/html', sessionElement.innerHTML);
        }

        function handleDragEnd(e) {
            e.target.closest('.study-session').classList.remove('dragging');
        }

        function handleDragOver(e) {
            if (e.preventDefault) {
                e.preventDefault();
            }
            e.dataTransfer.dropEffect = 'move';
            e.currentTarget.classList.add('drag-over');
            return false;
        }

        function handleDragLeave(e) {
            e.currentTarget.classList.remove('drag-over');
        }

        function handleDrop(e) {
            if (e.stopPropagation) {
                e.stopPropagation();
            }

            e.currentTarget.classList.remove('drag-over');

            const targetDay = e.currentTarget.dataset.day;

            // Remove from original day
            const fromDayData = studySchedule[draggedFromDay];
            const sessionIdx = fromDayData.sessions.findIndex(s => s === draggedSession);
            if (sessionIdx > -1) {
                fromDayData.sessions.splice(sessionIdx, 1);
            }

            // Add to target day
            const toDayData = studySchedule[targetDay];
            if (!toDayData.sessions) {
                toDayData.sessions = [];
            }
            toDayData.sessions.push(draggedSession);

            // Re-render
            renderCalendar();

            return false;
        }

        // Initialize
        renderCalendar();

        // Add sparkle effect on click
        document.addEventListener('click', (e) => {
            const card = e.target.closest('.day-card');
            if (card && !e.target.closest('.study-session')) {
                card.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    card.style.transform = '';
                }, 150);
            }
        });
    </script>
</body>
</html>
